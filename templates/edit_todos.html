{% extends "base.html" %}
{% block title %}Edit Task — DOZO{% endblock %}

{% block content %}
<div class="auth-wrapper" style="grid-template-columns:1fr;">
  <div class="auth-panel auth-panel-right" style="padding:3rem 2rem;">
    <div class="auth-form-wrap">
      <div class="auth-header">
        <h1 class="auth-title">Edit Task.</h1>
        <p class="auth-sub">Update title, priority, or due date.</p>
      </div>

      <form class="auth-form" method="POST" action="{{ url_for('todos.edit', id=todo.id) }}" novalidate>
        {{ form.hidden_tag() }}

        <div class="form-group">
          <label class="form-label">Task Title</label>
          <div class="input-wrap">
            {{ form.title(class="form-input", placeholder="What needs doing?") }}
            <span class="input-focus-bar"></span>
          </div>
          {% if form.title.errors %}
          <span class="form-error">{{ form.title.errors[0] }}</span>
          {% endif %}
        </div>

        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Priority</label>
            <div class="input-wrap">
              {{ form.priority(class="form-input") }}
              <span class="input-focus-bar"></span>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">Due Date</label>
            <div class="input-wrap">
              {{ form.due_date(class="form-input") }}
              <span class="input-focus-bar"></span>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Due Time <span class="optional">(optional)</span></label>
          <div class="input-wrap">
            {{ form.due_time(class="form-input") }}
            <span class="input-focus-bar"></span>
          </div>
        </div>

        <div style="display:flex;gap:0.75rem;">
          <button type="submit" class="btn btn-primary" style="flex:1;">
            Save Changes <span class="btn-icon">→</span>
          </button>
          <a href="{{ url_for('todos.index') }}" class="btn btn-secondary">Cancel</a>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}